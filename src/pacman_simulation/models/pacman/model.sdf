<?xml version="1.0" encoding="utf-8"?>

<sdf version="1.5">
     <model name="first_model">
     	 <static>false</static>
    	    <link name="base">
     	    	  <collision name="collision">
			<geometry>
			  <mesh>
			    <uri>model://pacman/meshes/base.dae</uri>
			  </mesh>
			</geometry>
			<surface>
				<friction>
					<ode>
						<mu>100</mu>
						<mu2>50</mu2>
					</ode>
				</friction>
			</surface>
		  </collision>
		  <visual name="visual">
			<geometry>
				<mesh>
				  <uri>model://pacman/meshes/base.dae</uri>
				</mesh>
			</geometry>
			<material>
				<script>
					<uri>model://pacman/meshes/base.dae</uri>
				</script>
			</material>
		  </visual>
		  <inertial>
		    <mass>62</mass>
		  </inertial>
	    </link>
	    <link name="left_big_wheel">
	      <pose> 0 .526654776 0 0 0 0 </pose>
     	    	  <collision name="collision">
			<geometry>
			  <mesh>
			    <uri>model://pacman/meshes/big_wheel.dae</uri>
			  </mesh>
			</geometry>
			<surface>
				<friction>
					<ode>
						<mu>15000</mu>
						<mu2>5000</mu2>
					</ode>
				</friction>
			</surface>
		</collision>
		<visual name="visual">
			<geometry>
				<mesh>
				  <uri>model://pacman/meshes/big_wheel.dae</uri>
				</mesh>
			</geometry>
			<material>
				<script>
					<uri>model://pacman/meshes/big_wheel.dae</uri>
				</script>
			</material>
		</visual>
	    </link>
	    <link name="right_big_wheel">
     	    	  <collision name="collision">
			<geometry>
			  <mesh>
			    <uri>model://pacman/meshes/big_wheel.dae</uri>
			  </mesh>
			</geometry>
			<surface>
				<friction>
					<ode>
						<mu>15000</mu>
						<mu2>5000</mu2>
					</ode>
				</friction>
			</surface>
		</collision>
		<visual name="visual">
			<geometry>
				<mesh>
				  <uri>model://pacman/meshes/big_wheel.dae</uri>
				</mesh>
			</geometry>
			<material>
				<script>
					<uri>model://pacman/meshes/big_wheel.dae</uri>
				</script>
			</material>
		</visual>
	    </link>
	    <link name="right_back_small_wheel">
	          <pose> -0.742541568 0.064456056 0 0 0 0 </pose>
     	    	  <collision name="collision">
			<geometry>
			  <mesh>
			    <uri>model://pacman/meshes/small_wheel.dae</uri>
			  </mesh>
			</geometry>
			<surface>
				<friction>
					<ode>
						<mu>1000</mu>
						<mu2>1000</mu2>
					</ode>
				</friction>
			</surface>
		</collision>
		<visual name="visual">
			<geometry>
				<mesh>
				  <uri>model://pacman/meshes/small_wheel.dae</uri>
				</mesh>
			</geometry>
			<material>
				<script>
					<uri>model://pacman/meshes/small_wheel.dae</uri>
				</script>
			</material>
		</visual>
	    </link>
	    <link name="left_back_small_wheel">
	          <pose> -0.742541568 0.464161632 0 0 0 0 </pose>
     	    	  <collision name="collision">
			<geometry>
			  <mesh>
			    <uri>model://pacman/meshes/small_wheel.dae</uri>
			  </mesh>
			</geometry>
			<surface>
				<friction>
					<ode>
						<mu>1000</mu>
						<mu2>1000</mu2>
					</ode>
				</friction>
			</surface>
		</collision>
		<visual name="visual">
			<geometry>
				<mesh>
				  <uri>model://pacman/meshes/small_wheel.dae</uri>
				</mesh>
			</geometry>
			<material>
				<script>
					<uri>model://pacman/meshes/small_wheel.dae</uri>
				</script>
			</material>
		</visual>
	    </link>
	    <link name="right_front_small_wheel">
     	    	  <collision name="collision">
			<geometry>
			  <mesh>
			    <uri>model://pacman/meshes/small_wheel.dae</uri>
			  </mesh>
			</geometry>
			<surface>
				<friction>
					<ode>
						<mu>1000</mu>
						<mu2>1000</mu2>
					</ode>
				</friction>
			</surface>
		</collision>
		<visual name="visual">
			<geometry>
				<mesh>
				  <uri>model://pacman/meshes/small_wheel.dae</uri>
				</mesh>
			</geometry>
			<material>
				<script>
					<uri>model://pacman/meshes/small_wheel.dae</uri>
				</script>
			</material>
		</visual>
	    </link>
	    <link name="left_front_small_wheel">
	          <pose> 0 0.526901664 0 0 0 0 </pose>
     	    	  <collision name="collision">
			<geometry>
			  <mesh>
			    <uri>model://pacman/meshes/small_wheel.dae</uri>
			  </mesh>
			</geometry>
			<surface>
				<friction>
					<ode>
						<mu>1000</mu>
						<mu2>1000</mu2>
					</ode>
				</friction>
			</surface>
		</collision>
		<visual name="visual">
			<geometry>
				<mesh>
				  <uri>model://pacman/meshes/small_wheel.dae</uri>
				</mesh>
			</geometry>
			<material>
				<script>
					<uri>model://pacman/meshes/small_wheel.dae</uri>
				</script>
			</material>
		</visual>
	    </link>
	    <link name="right_back_wheel_caster">
	          <pose>-0.742541568 0.064456056 0 0 0 0 </pose>
     	    	  <collision name="collision">
			<geometry>
			  <mesh>
			    <uri>model://pacman/meshes/wheel_caster.dae</uri>
			  </mesh>
			</geometry>
			<surface>
				<friction>
					<ode>
						<mu>100</mu>
						<mu2>50</mu2>
					</ode>
				</friction>
			</surface>
		</collision>
		<visual name="visual">
			<geometry>
				<mesh>
				  <uri>model://pacman/meshes/wheel_caster.dae</uri>
				</mesh>
			</geometry>
			<material>
				<script>
					<uri>model://pacman/meshes/wheel_caster.dae</uri>
				</script>
			</material>
		</visual>
	    </link>
	    <link name="left_back_wheel_caster">
	      <pose>-0.742541568 0.464161632  0 0 0 0 </pose>
     	    	  <collision name="collision">
			<geometry>
			  <mesh>
			    <uri>model://pacman/meshes/wheel_caster.dae</uri>
			  </mesh>
			</geometry>
			<surface>
				<friction>
					<ode>
						<mu>100</mu>
						<mu2>50</mu2>
					</ode>
				</friction>
			</surface>
		</collision>
		<visual name="visual">
			<geometry>
				<mesh>
				  <uri>model://pacman/meshes/wheel_caster.dae</uri>
				</mesh>
			</geometry>
			<material>
				<script>
					<uri>model://pacman/meshes/wheel_caster.dae</uri>
				</script>
			</material>
		</visual>
	    </link>
	    <link name="right_front_wheel_caster">
     	    	  <collision name="collision">
			<geometry>
			  <mesh>
			    <uri>model://pacman/meshes/wheel_caster.dae</uri>
			  </mesh>
			</geometry>
			<surface>
				<friction>
					<ode>
						<mu>100</mu>
						<mu2>50</mu2>
					</ode>
				</friction>
			</surface>
		</collision>
		<visual name="visual">
			<geometry>
				<mesh>
				  <uri>model://pacman/meshes/wheel_caster.dae</uri>
				</mesh>
			</geometry>
			<material>
				<script>
					<uri>model://pacman/meshes/wheel_caster.dae</uri>
				</script>
			</material>
		</visual>
	    </link>
	    <link name="left_front_wheel_caster">
	      <pose> 0 0.528212304 0 0 0 0 </pose>
     	    	  <collision name="collision">
			<geometry>
			  <mesh>
			    <uri>model://pacman/meshes/wheel_caster.dae</uri>
			  </mesh>
			</geometry>
			<surface>
				<friction>
					<ode>
						<mu>100</mu>
						<mu2>50</mu2>
					</ode>
				</friction>
			</surface>
		</collision>
		<visual name="visual">
			<geometry>
				<mesh>
				  <uri>model://pacman/meshes/wheel_caster.dae</uri>
				</mesh>
			</geometry>
			<material>
				<script>
					<uri>model://pacman/meshes/wheel_caster.dae</uri>
				</script>
			</material>
		</visual>
	    </link>

	    <joint type="revolute" name="left_big_wheel_joint">
              <pose>-0.03850386 0 -0.02887726 0 0 0</pose>
              <child>left_big_wheel</child>
              <parent>base</parent>
              <axis>
		<xyz>0 1 0</xyz>
		<dynamics>
		  <friction>2</friction>
		</dynamics>
              </axis>
	    </joint>
	    <joint type="revolute" name="right_big_wheel_joint">
              <pose>-0.03850386 0 -0.02887726 0 0 0</pose>
              <child>right_big_wheel</child>
              <parent>base</parent>
              <axis>
		<xyz>0 1 0</xyz>
		<dynamics>
		  <friction>2</friction>
		</dynamics>
              </axis>
	    </joint>

	    
	    <joint type="revolute" name="right_front_wheel_caster_joint">
              <pose>0.311030112 -0.2936494 0 0 0 0</pose>
              <child>right_front_wheel_caster</child>
              <parent>base</parent>
              <axis>
		<xyz>0 0 1</xyz>
		<dynamics>
		  <friction>5</friction>
		</dynamics>
              </axis>
	    </joint>
	    
	    <joint type="revolute" name="left_front_wheel_caster_joint">
              <pose>0.311030112 -.293158418 0 0 0 0</pose>
              <child>left_front_wheel_caster</child>
              <parent>base</parent>
              <axis>
		<xyz>0 0 1</xyz>
		<dynamics>
		  <friction>5</friction>
		</dynamics>
              </axis>
	    </joint>

	    
	    <joint type="revolute" name="right_back_wheel_caster_joint">
              <pose>.311206896 -.293321994 0 0 0 0</pose>
              <child>right_back_wheel_caster</child>
              <parent>base</parent>
              <axis>
		<xyz>0 0 1</xyz>
		<dynamics>
		  <friction>5</friction>
		</dynamics>
              </axis>
	    </joint>
	    
	    <joint type="revolute" name="left_back_wheel_caster_joint">
              <pose>.311206896 -.293050976 0 0 0 0</pose>
              <child>left_back_wheel_caster</child>
              <parent>base</parent>
              <axis>
		<xyz>0 0 1</xyz>
		<dynamics>
		  <friction>5</friction>
		</dynamics>
              </axis>
	    </joint>



	    <joint type="revolute" name="right_front_wheel_joint">
              <pose>0.27785822 0 -0.079446628 0 0 0</pose>
              <child>right_front_small_wheel</child>
              <parent>right_front_wheel_caster</parent>
              <axis>
		<xyz>0 1 0</xyz>
              </axis>
	    </joint>
	    <joint type="revolute" name="left_front_wheel_joint">
              <pose>0.27785822 0 -0.079446628 0 0 0</pose>
              <child>left_front_small_wheel</child>
              <parent>left_front_wheel_caster</parent>
              <axis>
		<xyz>0 1 0</xyz>
              </axis>
	    </joint>
	    <joint type="revolute" name="right_back_wheel_joint">
              <pose>0.27785822 0 -0.079446628 0 0 0</pose>
              <child>right_back_small_wheel</child>
              <parent>right_back_wheel_caster</parent>
              <axis>
		<xyz>0 1 0</xyz>
              </axis>
	    </joint>
	    <joint type="revolute" name="left_back_wheel_joint">
              <pose>0.27785822 0 -0.079446628 0 0 0</pose>
              <child>left_back_small_wheel</child>
              <parent>left_back_wheel_caster</parent>
              <axis>
		<xyz>0 1 0</xyz>
              </axis>
	    </joint>

	    <plugin name="differential_drive_controller" filename="libgazebo_ros_diff_drive.so">
	      <alwaysOn>true</alwaysOn>
	      <updateRate>${update_rate}</updateRate>
	      <leftJoint>left_big_wheel_joint</leftJoint>
	      <rightJoint>right_big_wheel_joint</rightJoint>
	      <wheelSeparation>0.526581624</wheelSeparation>
	      <wheelDiameter>0.247650254</wheelDiameter>
	      <torque>20</torque>
	      <commandTopic>cmd_vel</commandTopic>
	      <odometryTopic>odom</odometryTopic>
	      <odometryFrame>odom</odometryFrame>
	      <robotBaseFrame>base_footprint</robotBaseFrame>
	    </plugin>
	</model>
</sdf>
